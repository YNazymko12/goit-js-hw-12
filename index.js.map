{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst PIXABAY_API_KEY = '40905423-24d24966a8b04fca12252a818';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = searchedQuery => {\n  const axiosOptions = {\n    params: {\n      key: PIXABAY_API_KEY,\n      q: searchedQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 24,\n    },\n  };\n\n  return axios.get('', axiosOptions);\n};\n","export const createGalleryCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n        <li class='gallery-card'>\n            <a href=\"${largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags} loading='lazy\" />\n            </a>\n            <div class=\"gallery-info\">\n                <p class=\"gallery-info-item\">\n                    <b>Likes</b>${likes}\n                </p>\n                    <p class=\"gallery-info-item\">\n                <b>Views</b>${views}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <b>Comments</b>${comments}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <b>Downloads</b>${downloads}\n                </p>\n            </div>\n          </li>`;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { createGalleryCard } from './js/render-functions';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.js-gallery a');\n\nconst toggleLoader = () => {\n  loaderEl.classList.toggle('is-hidden');\n};\n\nconst showError = message => {\n  iziToast.error({\n    message: message,\n    position: 'topRight',\n    maxWidth: 400,\n  });\n};\n\nconst onSearchFormSubmit = async event => {\n  try {\n    event.preventDefault();\n    const searchedValue = searchFormEl.elements.user_query.value.trim();\n    if (searchedValue === '') {\n      return;\n    }\n    galleryEl.innerHTML = '';\n    toggleLoader();\n\n    const response = await fetchImages(searchedValue);\n\n    if (response.data.hits.length === 0) {\n      showError(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      return;\n    }\n\n    const galleryMarkup = response.data.hits\n      .map(imgDetails => createGalleryCard(imgDetails))\n      .join('');\n\n    galleryEl.innerHTML = galleryMarkup;\n\n    lightbox.refresh();\n    searchFormEl.reset();\n  } catch (error) {\n    console.log(error);\n    showError(`${error}`);\n  } finally {\n    toggleLoader();\n  }\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["PIXABAY_API_KEY","axios","fetchImages","searchedQuery","axiosOptions","createGalleryCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","toggleLoader","showError","message","iziToast","onSearchFormSubmit","event","searchedValue","response","galleryMarkup","imgDetails","error"],"mappings":"owBAEA,MAAMA,EAAkB,qCAExBC,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAcC,GAAiB,CAC1C,MAAMC,EAAe,CACnB,OAAQ,CACN,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACL,EAEE,OAAOF,EAAM,IAAI,GAAIG,CAAY,CACnC,ECnBaC,EAAoB,CAAC,CAChC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,uBAEcL,CAAa;AAAA,gDACYD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,kCAIxCC,CAAK;AAAA;AAAA;AAAA,8BAGTC,CAAK;AAAA;AAAA;AAAA,qCAGEC,CAAQ;AAAA;AAAA;AAAA,sCAGPC,CAAS;AAAA;AAAA;AAAA,iBCnBzCC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAW,IAAIC,EAAe,eAAe,EAEjD,MAAMC,EAAe,IAAM,CACzBH,EAAS,UAAU,OAAO,WAAW,CACvC,EAEMI,EAAYC,GAAW,CAC3BC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,WACV,SAAU,GACd,CAAG,CACH,EAEME,EAAqB,MAAMC,GAAS,CACxC,GAAI,CACFA,EAAM,eAAc,EACpB,MAAMC,EAAgBX,EAAa,SAAS,WAAW,MAAM,OAC7D,GAAIW,IAAkB,GACpB,OAEFV,EAAU,UAAY,GACtBI,IAEA,MAAMO,EAAW,MAAMvB,EAAYsB,CAAa,EAEhD,GAAIC,EAAS,KAAK,KAAK,SAAW,EAAG,CACnCN,EACE,0EACR,EACM,MACD,CAED,MAAMO,EAAgBD,EAAS,KAAK,KACjC,IAAIE,GAActB,EAAkBsB,CAAU,CAAC,EAC/C,KAAK,EAAE,EAEVb,EAAU,UAAYY,EAEtBV,EAAS,QAAO,EAChBH,EAAa,MAAK,CACnB,OAAQe,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBT,EAAU,GAAGS,CAAK,EAAE,CACxB,QAAY,CACRV,GACD,CACH,EAEAL,EAAa,iBAAiB,SAAUS,CAAkB"}